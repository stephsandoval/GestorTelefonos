import{s as ee,n as W,b as te}from"../chunks/scheduler.BvLojk_z.js";import{S as ae,i as se,e as f,s as $,b as F,c as p,d as b,m as y,h as k,f as O,g as E,n as g,j as x,k as t,r as le,l as q}from"../chunks/index.FRP66Aq7.js";import{e as X}from"../chunks/each.D6YF6ztN.js";import{p as re}from"../chunks/stores.DBIap2jg.js";function Y(o,e,n){const c=o.slice();return c[4]=e[n],c}function Z(o){let e,n,c=o[4].fechaApertura+"",C,i,T,u=o[4].fechaCierre+"",D,m,v,A=o[4].minutosEntrantes+"",H,S,s,l=o[4].minutosSalientes+"",h,a,d,L=o[4].estado+"",w,N,P,M,j,I="Detalle de todas las llamadas",B,R;return{c(){e=f("tr"),n=f("td"),C=F(c),i=$(),T=f("td"),D=F(u),m=$(),v=f("td"),H=F(A),S=$(),s=f("td"),h=F(l),a=$(),d=f("td"),w=F(L),N=$(),P=f("td"),M=f("a"),j=f("button"),j.textContent=I,R=$(),this.h()},l(_){e=p(_,"TR",{});var r=b(e);n=p(r,"TD",{class:!0});var J=b(n);C=O(J,c),J.forEach(E),i=k(r),T=p(r,"TD",{class:!0});var U=b(T);D=O(U,u),U.forEach(E),m=k(r),v=p(r,"TD",{class:!0});var V=b(v);H=O(V,A),V.forEach(E),S=k(r),s=p(r,"TD",{class:!0});var z=b(s);h=O(z,l),z.forEach(E),a=k(r),d=p(r,"TD",{class:!0});var G=b(d);w=O(G,L),G.forEach(E),N=k(r),P=p(r,"TD",{class:!0});var K=b(P);M=p(K,"A",{href:!0});var Q=b(M);j=p(Q,"BUTTON",{"data-svelte-h":!0}),y(j)!=="svelte-x4qs2"&&(j.textContent=I),Q.forEach(E),K.forEach(E),R=k(r),r.forEach(E),this.h()},h(){g(n,"class","svelte-p3h6no"),g(T,"class","svelte-p3h6no"),g(v,"class","svelte-p3h6no"),g(s,"class","svelte-p3h6no"),g(d,"class","svelte-p3h6no"),g(M,"href",B=`/listaLlamadasEmpresa?empresa=${o[1]}&fechaCierre=${o[4].fechaCierre}`),g(P,"class","svelte-p3h6no")},m(_,r){x(_,e,r),t(e,n),t(n,C),t(e,i),t(e,T),t(T,D),t(e,m),t(e,v),t(v,H),t(e,S),t(e,s),t(s,h),t(e,a),t(e,d),t(d,w),t(e,N),t(e,P),t(P,M),t(M,j),t(e,R)},p(_,r){r&1&&c!==(c=_[4].fechaApertura+"")&&q(C,c),r&1&&u!==(u=_[4].fechaCierre+"")&&q(D,u),r&1&&A!==(A=_[4].minutosEntrantes+"")&&q(H,A),r&1&&l!==(l=_[4].minutosSalientes+"")&&q(h,l),r&1&&L!==(L=_[4].estado+"")&&q(w,L),r&1&&B!==(B=`/listaLlamadasEmpresa?empresa=${_[1]}&fechaCierre=${_[4].fechaCierre}`)&&g(M,"href",B)},d(_){_&&E(e)}}}function ne(o){let e,n,c="Facturador de servicios telef√≥nicos",C,i,T,u,D,m,v,A='<th class="svelte-p3h6no">Fecha apertura</th> <th class="svelte-p3h6no">Fecha cierre</th> <th class="svelte-p3h6no">Minutos llamadas entrantes</th> <th class="svelte-p3h6no">Minutos llamadas salientes</th> <th class="svelte-p3h6no">Estado</th> <th class="svelte-p3h6no"></th>',H,S=X(o[0]),s=[];for(let l=0;l<S.length;l+=1)s[l]=Z(Y(o,S,l));return{c(){e=f("div"),n=f("h1"),n.textContent=c,C=$(),i=f("h2"),T=F("Estado cuenta para empresa: "),u=F(o[1]),D=$(),m=f("table"),v=f("tr"),v.innerHTML=A,H=$();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var h=b(e);n=p(h,"H1",{class:!0,"data-svelte-h":!0}),y(n)!=="svelte-fhugsi"&&(n.textContent=c),C=k(h),i=p(h,"H2",{class:!0});var a=b(i);T=O(a,"Estado cuenta para empresa: "),u=O(a,o[1]),a.forEach(E),D=k(h),m=p(h,"TABLE",{class:!0});var d=b(m);v=p(d,"TR",{"data-svelte-h":!0}),y(v)!=="svelte-1ew6lm"&&(v.innerHTML=A),H=k(d);for(let L=0;L<s.length;L+=1)s[L].l(d);d.forEach(E),h.forEach(E),this.h()},h(){g(n,"class","svelte-p3h6no"),g(i,"class","svelte-p3h6no"),g(m,"class","svelte-p3h6no"),g(e,"class","main")},m(l,h){x(l,e,h),t(e,n),t(e,C),t(e,i),t(i,T),t(i,u),t(e,D),t(e,m),t(m,v),t(m,H);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(m,null)},p(l,[h]){if(h&3){S=X(l[0]);let a;for(a=0;a<S.length;a+=1){const d=Y(l,S,a);s[a]?s[a].p(d,h):(s[a]=Z(d),s[a].c(),s[a].m(m,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=S.length}},i:W,o:W,d(l){l&&E(e),le(s,l)}}}function oe(o,e,n){let c;te(o,re,u=>n(2,c=u));let C=c.url.searchParams.get("empresa"),i=[];return(async()=>{await fetch("http://localhost:8080/api/getEstadoCuentaEmpresa",{method:"POST",body:JSON.stringify({empresa:C})}).then(u=>{u.json().then(D=>{n(0,i=D)})})})(),[i,C]}class fe extends ae{constructor(e){super(),se(this,e,oe,ne,ee,{})}}export{fe as component};
